@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-white text-[#111111] font-sans;
  }
  
  html {
    scroll-behavior: smooth;
  }
}

/* Date input uchun barcha brauzerlar va telefonlar uchun bir xil ko'rinish */
@layer components {
  input[type="date"] {
    @apply w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gold focus:border-transparent transition-all;
    @apply bg-white text-[#111111] font-sans;
    @apply appearance-none;
    position: relative;
    cursor: pointer;
    padding-right: 48px !important; /* Icon uchun yetarli joy */
    color-scheme: light;
    /* Kalendar popup uchun ranglar */
    --calendar-bg: #ffffff;
    --calendar-text: #111111;
    --calendar-border: #e5e7eb;
    --calendar-selected-bg: #C79A57;
    --calendar-selected-text: #ffffff;
    --calendar-hover-bg: #F5EEE7;
    --calendar-header-bg: #ffffff;
    --calendar-header-text: #111111;
  }
  
  /* iOS Safari uchun */
  input[type="date"]::-webkit-date-and-time-value {
    text-align: left;
    color: #111111;
  }
  
  /* Chrome, Edge, Safari uchun calendar icon */
  input[type="date"]::-webkit-calendar-picker-indicator {
    cursor: pointer;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23C79A57' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='3' y='4' width='18' height='18' rx='2' ry='2'%3E%3C/rect%3E%3Cline x1='16' y1='2' x2='16' y2='6'%3E%3C/line%3E%3Cline x1='8' y1='2' x2='8' y2='6'%3E%3C/line%3E%3Cline x1='3' y1='10' x2='21' y2='10'%3E%3C/line%3E%3C/svg%3E");
    background-size: 24px 24px;
    background-repeat: no-repeat;
    background-position: center;
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    width: 24px;
    height: 24px;
    padding: 0;
    margin: 0;
    opacity: 1;
    filter: none;
  }
  
  /* Firefox uchun */
  input[type="date"]::-moz-calendar-picker-indicator {
    cursor: pointer;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23C79A57' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='3' y='4' width='18' height='18' rx='2' ry='2'%3E%3C/rect%3E%3Cline x1='16' y1='2' x2='16' y2='6'%3E%3C/line%3E%3Cline x1='8' y1='2' x2='8' y2='6'%3E%3C/line%3E%3Cline x1='3' y1='10' x2='21' y2='10'%3E%3C/line%3E%3C/svg%3E");
    background-size: 24px 24px;
    background-repeat: no-repeat;
    background-position: center;
    width: 24px;
    height: 24px;
    padding: 0;
    margin: 0;
    opacity: 1;
  }
  
  /* Focus holatida */
  input[type="date"]:focus {
    @apply border-gold ring-2 ring-gold ring-opacity-20;
  }
  
  /* Date input ichidagi matnlar va separatorlar */
  input[type="date"]::-webkit-datetime-edit-text {
    color: #6b7280;
    padding: 0 4px;
    font-weight: normal;
  }
  
  input[type="date"]::-webkit-datetime-edit-month-field,
  input[type="date"]::-webkit-datetime-edit-day-field,
  input[type="date"]::-webkit-datetime-edit-year-field {
    color: #111111;
    padding: 2px 4px;
    font-weight: 500;
    border-radius: 3px;
    transition: background-color 0.2s;
  }
  
  input[type="date"]::-webkit-datetime-edit-month-field:focus,
  input[type="date"]::-webkit-datetime-edit-day-field:focus,
  input[type="date"]::-webkit-datetime-edit-year-field:focus {
    background-color: rgba(199, 154, 87, 0.15);
    color: #111111;
    border-radius: 4px;
    outline: none;
  }
  
  /* Bo'sh holatda ko'rinish - placeholder effekti */
  input[type="date"].date-input-custom:invalid::-webkit-datetime-edit {
    color: #9ca3af;
  }
  
  input[type="date"].date-input-custom:invalid::-webkit-datetime-edit-text {
    color: #9ca3af;
  }
  
  input[type="date"].date-input-custom:invalid::-webkit-datetime-edit-month-field,
  input[type="date"].date-input-custom:invalid::-webkit-datetime-edit-day-field,
  input[type="date"].date-input-custom:invalid::-webkit-datetime-edit-year-field {
    color: #9ca3af;
  }
  
  /* Tanlangan holatda */
  input[type="date"].date-input-custom:valid {
    color: #111111;
  }
  
  input[type="date"].date-input-custom:valid::-webkit-datetime-edit {
    color: #111111;
  }
  
  /* Mobil qurilmalar uchun qo'shimcha optimallashtirish */
  @media (max-width: 768px) {
    input[type="date"] {
      font-size: 16px; /* iOS Safari'da zoom ni oldini olish */
      padding: 14px 16px;
      padding-right: 44px !important; /* Icon uchun yetarli joy */
    }
    
    input[type="date"]::-webkit-calendar-picker-indicator {
      background-size: 22px 22px;
      width: 22px;
      height: 22px;
      right: 10px;
    }
    
    input[type="date"]::-moz-calendar-picker-indicator {
      background-size: 22px 22px;
      width: 22px;
      height: 22px;
    }
  }
  
  /* Dark mode support (agar kerak bo'lsa) */
  @media (prefers-color-scheme: dark) {
    input[type="date"] {
      @apply bg-white text-[#111111];
      color-scheme: light;
    }
  }
  
  /* Kalendar popup uchun qo'shimcha stillar */
  /* Chrome/Edge/Safari uchun kalendar popup ranglarini o'zgartirish */
  input[type="date"]::-webkit-calendar-picker-indicator:hover {
    opacity: 0.8;
  }
  
  /* Kalendar popup'ning umumiy ko'rinishini yaxshilash */
  input[type="date"]:focus::-webkit-calendar-picker-indicator {
    opacity: 1;
  }
}

/* Kalendar popup uchun global stillar */
/* Chrome/Edge/Safari uchun kalendar popup */
input[type="date"] {
  color-scheme: light;
}

/* Kalendar popup'ning ranglarini web sayt dizayniga mos qilish */
/* Eslatma: Brauzer kalendari popup'ning ko'rinishini to'liq o'zgartirish qiyin, */
/* lekin color-scheme orqali umumiy ranglar o'zgartiriladi */
